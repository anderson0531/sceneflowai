@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    /* Global application background and text */
    @apply bg-sf-background text-sf-text-secondary antialiased;
    /* Subtle atmospheric background */
    @apply bg-no-repeat bg-sf-radial-atmosphere;
    /* Optimized typography for dark mode */
    font-weight: 400;
    line-height: 1.6;
  }
  
  /* Typography hierarchy with optimized weights and spacing */
  h1, h2, h3, h4, h5, h6 {
    @apply text-white font-bold;
    line-height: 1.3;
    letter-spacing: -0.025em;
  }

  h1 {
    font-weight: 700;
    font-size: 2.25rem;
    line-height: 1.2;
  }

  h2 {
    font-weight: 600;
    font-size: 1.875rem;
    line-height: 1.3;
  }

  h3 {
    font-weight: 600;
    font-size: 1.5rem;
    line-height: 1.4;
  }

  h4 {
    font-weight: 600;
    font-size: 1.25rem;
    line-height: 1.4;
  }

  /* Default text color for body content with optimized readability */
  p, span, div, li {
    @apply text-gray-100;
    font-weight: 400;
    line-height: 1.6;
    font-size: 0.95rem; /* Slightly larger base font size */
  }

  /* Paragraphs with enhanced spacing */
  p {
    margin-bottom: 1rem;
    line-height: 1.7;
  }

  /* Lists with proper spacing */
  ul, ol {
    @apply text-sf-text-secondary;
    font-weight: 400;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
  }

  /* Links with enhanced visibility and strong contrast */
  a {
    @apply text-sf-primary hover:text-sf-accent transition-colors;
    font-weight: 500;
    /* Remove busy underlines for cleaner navigation */
    text-decoration: none;
  }

  /* Navigation links - no underlines, use color and hover states instead */
  .nav-link {
    @apply text-sf-text-secondary hover:text-sf-text-primary transition-colors;
    font-weight: 500;
    text-decoration: none;
  }

  /* Enhanced Active Navigation States - Updated with Blue */
  .nav-link-active {
    @apply text-white bg-sf-primary/10 border-l-4 border-sf-primary;
    font-weight: 600;
    text-decoration: none;
    position: relative;
  }

  .nav-link-active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg, #3B82F6 0%, #60A5FA 100%);
    border-radius: 0 2px 2px 0;
  }

  /* External links - keep underlines for clarity */
  .external-link {
    @apply text-sf-primary hover:text-sf-accent transition-colors;
    font-weight: 500;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }

  /* Navigation section headers */
  .nav-section-header {
    @apply text-sf-text-secondary uppercase tracking-wider font-semibold;
    color: #B0B0B0; /* Increased from #8A8A8A for better contrast */
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    font-weight: 600;
  }

  /* Navigation item hover states */
  .nav-item-hover {
    @apply transition-all duration-200;
  }

  .nav-item-hover:hover {
    @apply bg-sf-surface-light;
    transform: translateX(2px);
  }

  /* Active navigation indicators - Enhanced with Blue */
  .nav-active-indicator {
    @apply border-sf-primary;
    border-width: 3px;
    border-style: solid;
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
  }

  .nav-active-indicator-left {
    @apply nav-active-indicator border-l-0 border-r-0 border-t-0;
    border-left: 4px solid #3B82F6;
    background: linear-gradient(90deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
  }

  .nav-active-indicator-right {
    @apply nav-active-indicator border-r-0 border-l-0 border-t-0;
    border-right: 4px solid #3B82F6;
    background: linear-gradient(-90deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
  }

  /* Header-specific utility classes */
  .header-logo {
    @apply flex items-center justify-center;
    background: linear-gradient(135deg, var(--sf-surface-light) 0%, var(--sf-surface) 100%);
  }

  .header-logo-accent {
    @apply flex items-center justify-center;
    background: linear-gradient(135deg, var(--sf-primary) 0%, var(--sf-accent) 100%);
  }

  .header-logo-connector {
    @apply absolute -right-1 top-1/2 transform -translate-y-1/2;
    border-left: 2px solid var(--sf-primary);
    border-top: 2px solid transparent;
    border-bottom: 2px solid transparent;
  }

  /* Small text with minimum weight for readability */
  small, .text-sm, .text-xs {
    font-weight: 500;
    line-height: 1.5;
    @apply text-gray-100;
  }
  
  /* Enhanced small text readability */
  .text-sm {
    font-size: 0.9rem; /* Slightly larger than default text-sm */
  }
  
  .text-xs {
    font-size: 0.8rem; /* Slightly larger than default text-xs */
  }

  /* Strong text with enhanced weight */
  strong, b {
    font-weight: 600;
    @apply text-sf-text-primary;
  }

  /* Emphasis text */
  em, i {
    font-weight: 500;
    font-style: italic;
  }
}

/* Form field styling with elevation-based design and strong focus states */
@layer base {
  input, select, textarea {
    @apply bg-sf-surface border border-sf-border text-sf-text-primary placeholder-sf-text-disabled rounded-lg transition duration-200;
    font-weight: 400;
    line-height: 1.5;
    /* Strong focus states - never rely on color alone */
    outline: none;
  }

  /* Enhanced focus states for all form elements */
  input:focus, select:focus, textarea:focus {
    @apply border-sf-primary;
    box-shadow: 0 0 0 3px rgba(0, 191, 165, 0.3), 0 0 0 1px rgba(0, 191, 165, 0.5);
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  /* Hover states for form elements */
  input:hover, select:hover, textarea:hover {
    @apply border-sf-border-strong bg-sf-surface-light;
  }

  select, input[type="text"], input[type="search"], input[type="email"], input[type="number"], input[type="password"] {
    @apply py-2 px-4;
    font-size: 1rem;
  }

  /* Button base styles with optimized typography and strong contrast */
  button {
    @apply transition-all duration-200;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
    /* Ensure buttons are never indicated by color alone */
    outline: none;
  }

  /* Enhanced button focus states */
  button:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  /* Label text with enhanced readability */
  label {
    @apply text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
  }
}

/* Card and component elevation system */
@layer components {
  .card {
    @apply bg-sf-surface border border-sf-border rounded-lg;
  }

  .card-elevated {
    @apply bg-sf-surface-elevated border border-sf-border rounded-lg;
  }

  .input-field {
    @apply bg-sf-surface border border-sf-border text-sf-text-primary placeholder-sf-text-disabled rounded-lg transition duration-200;
    font-weight: 400;
    line-height: 1.5;
    /* Strong focus states */
    outline: none;
  }

  /* Enhanced input field focus states */
  .input-field:focus {
    @apply border-sf-primary;
    box-shadow: 0 0 0 3px rgba(0, 191, 165, 0.3), 0 0 0 1px rgba(0, 191, 165, 0.5);
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  /* Hover states for input fields */
  .input-field:hover {
    @apply border-sf-border-strong bg-sf-surface-light;
  }

  .modal-overlay {
    @apply bg-sf-surface-elevated border border-sf-border rounded-lg;
  }

  .dropdown-menu {
    @apply bg-sf-surface-elevated border border-sf-border rounded-lg;
  }

  .navigation-bar {
    @apply bg-sf-surface border-b border-sf-border;
  }

  /* Typography utility classes */
  .text-heading {
    @apply text-sf-text-primary font-semibold;
    line-height: 1.3;
    letter-spacing: -0.025em;
  }

  .text-body {
    @apply text-sf-text-secondary;
    font-weight: 400;
    line-height: 1.6;
  }

  .text-caption {
    @apply text-sf-text-secondary;
    font-weight: 400;
    line-height: 1.5;
    font-size: 0.875rem;
  }

  .text-button {
    @apply text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
  }

  /* Interactive element utility classes with strong contrast */
  .btn-primary {
    @apply bg-sf-primary text-sf-background border border-sf-primary;
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .btn-primary:hover {
    @apply bg-sf-accent border-sf-accent;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 191, 165, 0.3);
  }

  .btn-primary:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 191, 165, 0.2);
  }

  .btn-secondary {
    @apply bg-sf-surface border border-sf-border text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .btn-secondary:hover {
    @apply bg-sf-surface-light border-sf-border-strong;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .btn-secondary:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .btn-secondary:active {
    transform: translateY(0);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-ghost {
    @apply bg-transparent text-sf-text-secondary hover:text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .btn-ghost:hover {
    @apply bg-sf-surface-light;
    transform: translateY(-1px);
  }

  .btn-ghost:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .btn-ghost:active {
    transform: translateY(0);
  }

  .btn-outline {
    @apply bg-transparent border border-sf-border text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .btn-outline:hover {
    @apply bg-sf-surface border-sf-primary;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 191, 165, 0.15);
  }

  .btn-outline:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .btn-outline:active {
    transform: translateY(0);
    box-shadow: 0 1px 4px rgba(0, 191, 165, 0.1);
  }
}

/* Styling the scrollbar to match the theme (Webkit browsers) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-sf-surface;
}

::-webkit-scrollbar-thumb {
  @apply bg-sf-border rounded-md;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-sf-primary;
}

/* Additional accessibility and utility classes */
@layer utilities {
  /* Text contrast utilities */
  .text-high-contrast {
    @apply text-sf-text-primary;
    font-weight: 600;
  }
  
  .text-medium-contrast {
    @apply text-sf-text-secondary;
    font-weight: 400;
  }
  
  .text-low-contrast {
    @apply text-sf-text-disabled;
    font-weight: 400;
  }
  
  /* Background elevation utilities */
  .bg-base {
    @apply bg-sf-background;
  }
  
  .bg-surface {
    @apply bg-sf-surface;
  }
  
  .bg-surface-elevated {
    @apply bg-sf-surface-elevated;
  }

  .bg-surface-light {
    @apply bg-sf-surface-light;
  }
  
  /* Border utilities */
  .border-subtle {
    @apply border-sf-border;
  }

  .border-strong {
    @apply border-sf-border-strong;
  }

  /* Enhanced focus utilities with strong contrast */
  .focus-ring {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(0, 191, 165, 0.3), 0 0 0 1px rgba(0, 191, 165, 0.5);
  }

  .focus-ring-accent {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  /* Typography utilities */
  .font-readable {
    font-weight: 400;
    line-height: 1.6;
  }

  .font-emphasis {
    font-weight: 500;
    line-height: 1.5;
  }

  .font-heading {
    font-weight: 600;
    line-height: 1.3;
    letter-spacing: -0.025em;
  }

  .leading-readable {
    line-height: 1.6;
  }

  .leading-tight {
    line-height: 1.3;
  }

  .leading-relaxed {
    line-height: 1.7;
  }

  /* Interactive state utilities */
  .interactive-hover {
    @apply transition-all duration-200;
  }

  .interactive-hover:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .interactive-focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  /* Header-specific button styles with optimal contrast */
  .header-btn-primary {
    @apply bg-sf-primary text-sf-background border border-sf-primary;
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .header-btn-primary:hover {
    @apply bg-sf-accent border-sf-accent;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 191, 165, 0.3);
  }

  .header-btn-primary:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .header-btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 191, 165, 0.2);
  }

  .header-btn-secondary {
    @apply bg-sf-surface border border-sf-border text-sf-text-primary;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.025em;
    transition: all 0.2s ease;
  }

  .header-btn-secondary:hover {
    @apply bg-sf-surface-light border-sf-border-strong;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .header-btn-secondary:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(29, 233, 182, 0.4), 0 0 0 1px rgba(29, 233, 182, 0.6);
  }

  .header-btn-secondary:active {
    transform: translateY(0);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  }

  /* Custom New Project Button - Override all global styles */
  header .custom-new-project-btn {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 0.625rem 1.25rem !important;
    border-radius: 0.5rem !important;
    font-size: 0.875rem !important;
    font-weight: 700 !important;
    background-color: #1de9b6 !important;
    color: #000000 !important;
    border: 1px solid #1de9b6 !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
  }
  
  header .custom-new-project-btn:hover {
    background-color: #00bfa5 !important;
    border-color: #00bfa5 !important;
  }
  
  header .custom-new-project-btn svg {
    color: #000000 !important;
  }
  
  header .custom-new-project-btn span {
    color: #000000 !important;
  }

  /* Force override for any inherited text colors */
  header .custom-new-project-btn * {
    color: #000000 !important;
  }

  /* Override any Tailwind text color classes with maximum specificity */
  header .custom-new-project-btn.text-sf-background,
  header .custom-new-project-btn .text-sf-background,
  header .custom-new-project-btn[class*="text-"] {
    color: #000000 !important;
  }

  /* Resizable Panels Styles */
  [data-panel-resize-handle-id] {
    background-color: hsl(var(--sf-border));
    transition: background-color 0.2s ease;
  }

  [data-panel-resize-handle-id]:hover {
    background-color: hsl(var(--sf-primary));
  }

  [data-panel-resize-handle-id]:active {
    background-color: hsl(var(--sf-primary));
  }

  /* Ensure panels have proper overflow handling */
  [data-panel-id] {
    overflow: hidden;
  }

  /* Smooth transitions for panel resizing */
  [data-panel-id] > * {
    transition: all 0.2s ease;
  }

  /* Header App Name Text Size Overrides - Maximum Specificity */
  header .app-name-text,
  header .app-name-text *,
  header [class*="app-name"] *,
  header .font-bold[class*="text-"] {
    font-size: inherit !important;
    line-height: inherit !important;
  }

  /* Specific overrides for SceneFlow AI app name */
  header .text-3xl,
  header .text-2xl,
  header .text-xl {
    font-size: inherit !important;
    line-height: inherit !important;
  }

  /* Force override for any global CSS that might be affecting headers */
  header h1,
  header h2,
  header h3,
  header .font-bold {
    font-size: inherit !important;
    line-height: inherit !important;
  }

  /* Dashboard header specific overrides */
  .navigation-bar .font-bold.text-3xl,
  .navigation-bar .font-bold.text-2xl {
    font-size: inherit !important;
    line-height: inherit !important;
  }

  /* Landing page header specific overrides */
  header .text-2xl.font-bold,
  header .text-3xl.font-bold {
    font-size: inherit !important;
    line-height: inherit !important;
  }
}
